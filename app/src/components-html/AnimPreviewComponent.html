<div class="please-drag-here" *ngIf="items.length == 0">
  <div class="text-xs-center">
    <h4>ここに連番画像(PNG)ファイルをドロップ</h4>
    <div>
      <small>または</small>
    </div>
    <button class="btn btn-primary m-t-1"
            [ngClass]="{disabled: openingDirectories == true}"
            (click)="openDirectories()">ファイルを選択
    </button>
  </div>
</div>

<div class="anim-preview p-a-1" *ngIf="items.length > 0">
  <p>
    フレームサイズ <span class="label" [ngClass]="{'label-success' : isValidFrameSize, 'label-danger' : !isValidFrameSize}">W{{animationOptionData.imageInfo.width}}×H{{animationOptionData.imageInfo.height}}px</span>
    / 総フレーム数 <span class="label" [ngClass]="{'label-success' : isValidFrameLength, 'label-danger' : !isValidFrameLength}">{{items.length}}</span>
			<span *ngIf="animationOptionData.noLoop == false">
				/ 再生時間 <span
              class="label label-success" [ngClass]="{'label-success' : isValidTime, 'label-danger' : !isValidTime}">{{items.length * animationOptionData.loop / animationOptionData.fps}}秒</span>
			</span>
  </p>

  <div class="preview-area m-t-1">
    <div [ngStyle]="{ 'zoom' : scaleValue }">
      <img data-src="{{imagePath}}">
    </div>

    <div class="m-t-1">
      <button class="btn btn-secondary-outline btn-sm"
              [ngClass]="{disabled: playing == true}"
              (click)="resume();">
        <i class="fa fa-play"></i>
      </button>
      <button class="btn btn-secondary-outline btn-sm"
              [ngClass]="{disabled: playing == false}"
              (click)="pause();">
        <i class="fa fa-stop"></i>
      </button>
      <button class="btn btn-secondary-outline btn-sm"
              [ngClass]="{disabled: currentFrame == 0 && currentLoopCount == 0 }"
              (click)="gotoAndStop(0);">
        <i class="fa fa-step-backward"></i>
      </button>

      <span class="m-l-1">表示倍率</span>
      <!-- 拡大率 -->
      <select class="c-select mod-zoom-select"
              #selectScale
              (change)="selectScaleValue(selectScale.value)">
        <option value="0.25">25%</option>
        <option value="0.5">50%</option>
        <option value="1.0" selected>100%</option>
        <option value="2.0">200%</option>
      </select>

      <button class="btn btn-secondary-outline btn-sm m-l-1"
              [ngClass]="{disabled: openingDirectories == true}"
              (click)="openDirectories()">ファイルを再選択
      </button>
    </div>
  </div>

  <p class="m-t-1">コマ画像プレビュー</p>
  <div>
    <div *ngIf="items.length >= 1">
      <div *ngFor="let item of items; let i = index"
           class="frame-image-container"
           [ngClass]="{active: currentFrame == i}"
           (click)="gotoAndStop(i);"
      >
        <img data-src="{{item.imagePath}}" class="frame-image img-fluid"/>
      </div>
    </div>
  </div>
</div>